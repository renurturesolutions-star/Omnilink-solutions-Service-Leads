<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>OmniSolutions â€” All-in-One Service Network</title>
<link rel="manifest" href="manifest.json">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
body {
  margin:0; font-family:Poppins,system-ui;
  background:#0b0a18; color:#fff; text-align:center;
}
header {padding:20px;}
.hero h1 {font-weight:700;}
.btn {
  background:#3b36ff; color:#fff; border:none;
  padding:10px 20px; border-radius:8px; cursor:pointer;
  transition:0.3s; font-weight:600;
}
.btn:hover {background:#2926b5;}
.service-grid {
  display:flex; flex-wrap:wrap; justify-content:center;
  gap:12px; margin:20px auto; max-width:900px;
}
.bubble {
  background:#1f1d3e; border-radius:30px; padding:12px 20px;
  cursor:pointer; transition:.3s;
}
.bubble:hover {background:#3b36ff;}
.modal {
  position:fixed; top:0; left:0; right:0; bottom:0;
  background:#000000bb; display:none;
  justify-content:center; align-items:center;
  z-index:99;
}
.modal.active {display:flex;}
.modal-content {
  background:#161532; padding:30px; border-radius:12px;
  width:90%; max-width:600px; text-align:left; color:#fff;
  box-shadow:0 0 20px #0006;
}
.modal-content input, .modal-content select {
  width:100%; margin-bottom:10px; padding:10px;
  border-radius:6px; border:none; background:#211f44; color:#fff;
}
.modal-header {display:flex; justify-content:space-between; align-items:center;}
.closeBtn {
  background:#3b36ff; color:#fff; border:none; border-radius:8px;
  padding:6px 12px; cursor:pointer;
}
footer {padding:20px; font-size:12px; color:#777;}
</style>
</head>
<body>

<header class="hero">
  <h1>OmniSolutions</h1>
  <p>All-in-One Service Network</p>
  <button id="openSignup" class="btn">ðŸ“‹ Join as Contractor</button>
</header>

<main id="catalog">
  <h2>Choose a category</h2>
  <div class="service-grid">
    <div class="bubble">Plumbing</div>
    <div class="bubble">Electrical</div>
    <div class="bubble">Roofing</div>
    <div class="bubble">Solar</div>
    <div class="bubble">Landscaping</div>
    <div class="bubble">CCTV</div>
    <div class="bubble">Tiling</div>
  </div>
</main>

<footer>
  Â© 2025 OmniSolutions | <a href="contractor.html" style="color:#7d7cff">Contractor Dashboard</a>
</footer>

<!-- ===== Modal for Contractor Sign-Up ===== -->
<div class="modal" id="signupModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>ðŸ§° New Partner Sign-Up</h3>
      <button id="closeModal" class="closeBtn">Close</button>
    </div>
    <p class="small">Join the OmniSolutions network â€” we route paying jobs to you.</p>
    <input placeholder="Business Name">
    <input placeholder="Contact Person">
    <input placeholder="Email">
    <input placeholder="Phone Number">
    <select>
      <option value="">Select Category</option>
      <option>Property & Maintenance</option>
      <option>Electrical</option>
      <option>Cleaning</option>
      <option>Security</option>
    </select>
    <input placeholder="Service (e.g. Plumbing)">
    <input placeholder="Areas (comma separated)">
    <input placeholder="Website">
    <input type="password" placeholder="Create Password / PIN (4â€“6 digits)">
    <button id="signupSubmit" class="btn">Submit</button>
  </div>
</div>

<script>
/* ======== Modal open / close ======== */
const modal=document.getElementById("signupModal");
document.getElementById("openSignup").onclick=()=>modal.classList.add("active");
document.getElementById("closeModal").onclick=()=>modal.classList.remove("active");

/* ======== Sign-Up Submit Logic ======== */
document.getElementById("signupSubmit").onclick=function(){
  const fields=modal.querySelectorAll("input, select");
  const vals={};
  fields.forEach(f=>vals[f.placeholder?.toLowerCase()||f.name]=f.value.trim());
  const {businessname,contactperson,email,phonenumber,category,service,areas,website,["create password / pin (4â€“6 digits)"]:pass}=vals;

  if(!businessname||!contactperson||!phonenumber||!pass){
    alert("Please fill in Business, Contact, Phone, and Password fields.");return;
  }

  const key="omni_partners";
  const ls={get:(k,d)=>{try{return JSON.parse(localStorage.getItem(k)||JSON.stringify(d))}catch{return d}},
            set:(k,v)=>localStorage.setItem(k,JSON.stringify(v))};
  const partners=ls.get(key,[]);
  if(partners.find(p=>p.phone===phonenumber)){alert("That phone number is already registered.");return;}

  partners.push({
    id:"p_"+Date.now(),
    business:businessname,owner:contactperson,email,phone:phonenumber,
    category,service,areas,website,pass,
    created:new Date().toISOString(),
    active:true,subStatus:"Active",badges:[]
  });
  ls.set(key,partners);

  alert("âœ… Contractor registered successfully! Redirecting to your dashboard...");
  modal.classList.remove("active");
  setTimeout(()=>window.location.href="contractor.html",1200);
};
</script>

<!-- Addons always last -->
<script src="addons.js"></script>
<script src="subscription_addon.js"></script>
</body>
</html>
